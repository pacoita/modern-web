"use strict";(self.webpackChunkmodern_web=self.webpackChunkmodern_web||[]).push([[753],{753:(C,g,o)=>{o.r(g),o.d(g,{LightComponent:()=>T});var h=o(5861),i=o(3305),s=o(5195),_=o(6814),e=o(9212),m=o(6593);function u(t,c){if(1&t&&(e.ynx(0),e._uU(1),e.BQk()),2&t){const n=e.oxw(2);e.xp6(1),e.hij(" ",n.luxValue," ")}}function d(t,c){1&t&&e._uU(0,"N/A")}function p(t,c){if(1&t&&(e.ynx(0),e.TgZ(1,"h2",2),e._uU(2),e.qZA(),e.TgZ(3,"mat-card",11)(4,"mat-card-title")(5,"h2"),e._uU(6,"Light level"),e.qZA()(),e.TgZ(7,"mat-card-content")(8,"h1"),e.YNc(9,u,2,1,"ng-container",6)(10,d,1,0,"ng-template",null,12,e.W1O),e.qZA()()(),e.BQk()),2&t){const n=e.MAs(11),r=e.oxw();e.xp6(2),e.Oqu(r.errorText),e.xp6(7),e.Q6J("ngIf",r.luxValue)("ngIfElse",n)}}function f(t,c){if(1&t&&(e.TgZ(0,"h2"),e._uU(1),e.qZA()),2&t){const n=e.oxw();e.xp6(1),e.Oqu(n.supportedText)}}function x(t,c){1&t&&(e.TgZ(0,"div",13),e._UZ(1,"img",14),e.qZA(),e._UZ(2,"br")(3,"br"),e.TgZ(4,"a",15),e._uU(5,"Source: can I use"),e.qZA())}let T=(()=>{class t{constructor(n,r){this.cdRef=n,this.titleService=r,this.ambient="bright",this.titleService.setTitle("Ambient light")}ngOnInit(){"AmbientLightSensor"in window?this.readAmbientLight():this.supportedText="Your browser does not support Ambient Device Light Sensor \u{1f622}"}readAmbientLight(){var n=this;try{this.sensor=this.sensor??new window.AmbientLightSensor,this.sensor.onerror=function(){var r=(0,h.Z)(function*(a){if("NotAllowedError"===a.error.name){const l="ambient-light-sensor";if("denied"===(yield navigator.permissions.query({name:l})).state)return n.errorText="Permission to access sensor was denied.",void(n.luxValue=void 0);n.readAmbientLight()}else"NotReadableError"===a.error.name&&(n.errorText="Cannot connect to the sensor.");n.luxValue=void 0});return function(a){return r.apply(this,arguments)}}(),this.sensor.onreading=()=>{this.updateTheme(this.sensor.illuminance)},this.sensor.start()}catch(r){this.errorText="An error occurred.",console.error(r)}}updateTheme(n){this.ambient=n<=50?"dark":"bright",this.luxValue=n,this.cdRef.detectChanges()}static#e=this.\u0275fac=function(r){return new(r||t)(e.Y36(e.sBO),e.Y36(m.Dx))};static#n=this.\u0275cmp=e.Xpm({type:t,selectors:[["app-light"]],standalone:!0,features:[e.jDz],decls:32,vars:3,consts:[[1,"content","container",3,"ngClass"],[1,"warn-text"],[1,"label"],[1,"descr-card"],[1,"flex-centered"],["src","assets/icons/warning.png","width","24","height","24","alt","warning icon",1,"icon-space"],[4,"ngIf","ngIfElse"],["noSupported",""],[1,"accordion-container"],["multi","",1,"example-headers-align"],["matExpansionPanelContent",""],[1,"lux-card"],["notAvailable",""],[1,"img-container"],["src","assets/images/ambientlight.png","alt","Ambient Light Sensor api support"],["href","https://caniuse.com/?search=ambient%20light","target","_blank"]],template:function(r,a){if(1&r&&(e.TgZ(0,"section",0)(1,"div",1)(2,"h1",2),e._uU(3,"Ambient Light Sensor"),e.qZA()(),e.TgZ(4,"mat-card",3)(5,"p"),e._uU(6,"The "),e.TgZ(7,"strong"),e._uU(8,"AmbientLightSensor"),e.qZA(),e._uU(9," interface of the Sensor API returns the current level of the ambient light around the hosting device. "),e._UZ(10,"br")(11,"br"),e.TgZ(12,"span",4),e._UZ(13,"img",5),e.TgZ(14,"span"),e._uU(15,"Still in developer trial"),e.qZA()(),e._uU(16," Enable the "),e.TgZ(17,"cite")(18,"strong"),e._uU(19,"generic sensor extra classes"),e.qZA()(),e._uU(20," flag in Chrome to test it (chrome://flags/#enable-generic-sensor-extra-classes). "),e.qZA()(),e.YNc(21,p,12,3,"ng-container",6)(22,f,2,1,"ng-template",null,7,e.W1O),e.TgZ(24,"div",8)(25,"mat-accordion",9)(26,"mat-expansion-panel")(27,"mat-expansion-panel-header")(28,"mat-panel-title")(29,"h1"),e._uU(30,"Browser compatibility"),e.qZA()()(),e.YNc(31,x,6,0,"ng-template",10),e.qZA()()()()),2&r){const l=e.MAs(23);e.Q6J("ngClass","bright"===a.ambient?"lightTheme":"darkTheme"),e.xp6(21),e.Q6J("ngIf",!a.supportedText)("ngIfElse",l)}},dependencies:[_.mk,s.QW,s.a8,s.dn,s.n5,_.O5,i.To,i.pp,i.ib,i.yz,i.yK,i.HS],styles:[".warn-text[_ngcontent-%COMP%]{margin-bottom:2rem}.warn-text[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{margin:0 2rem 0 0}.generic-value-light[_ngcontent-%COMP%], .container.darkTheme[_ngcontent-%COMP%]   .lux-card[_ngcontent-%COMP%], .container.lightTheme[_ngcontent-%COMP%]   .lux-card[_ngcontent-%COMP%]{text-align:center;max-width:900px}.generic-value-light[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .container.darkTheme[_ngcontent-%COMP%]   .lux-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%], .container.lightTheme[_ngcontent-%COMP%]   .lux-card[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{padding:1.5rem;font-size:5em;color:#d0d0d0}.container[_ngcontent-%COMP%]{padding:1rem}.container.lightTheme[_ngcontent-%COMP%]{background-color:#fff;color:#000000de}.container.darkTheme[_ngcontent-%COMP%]{background-color:#000000ab}.container.darkTheme[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{color:#fff}"]})}return t})()}}]);