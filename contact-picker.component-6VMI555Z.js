import{a as w,d as O}from"./chunk-5HHMUAKF.js";import{c as y,d as T}from"./chunk-EET26C6H.js";import"./chunk-FXTHA667.js";import{g as A,h as $,i as j,j as U,k as F,l as z}from"./chunk-LC3WTXNP.js";import{a as B,b as D,c as H,d as L,e as R,f as N,g as W}from"./chunk-JQX7WBIC.js";import"./chunk-4XVAJ4KQ.js";import{$a as u,Ab as i,Bb as s,Bc as I,Cb as f,Cc as k,Db as x,Ib as S,Kb as p,Rb as M,Sb as c,Tb as C,Ub as _,Va as P,_a as r,_b as E,cc as b,d as h,ka as v,ob as d,qb as m,zb as n}from"./chunk-V5BQXA3S.js";function Y(t,a){if(t&1&&(f(0),s(1,"img",16),x()),t&2){let e=a.ngIf;r(),m("src",e,P)}}function q(t,a){t&1&&s(0,"img",8)}function G(t,a){if(t&1&&(n(0,"div"),d(1,Y,2,1,"ng-container",15)(2,q,1,0,"ng-template",null,0,b),i()),t&2){let e=M(3),l=p().$implicit,o=p();r(),m("ngIf",o.getObjectUrl(l.icon))("ngIfElse",e)}}function J(t,a){if(t&1&&(n(0,"span"),s(1,"img",17),c(2),i()),t&2){let e=p().$implicit;r(2),_("",e.tel.join(", ")," ")}}function K(t,a){if(t&1&&(n(0,"span"),s(1,"img",18),c(2),i()),t&2){let e=p().$implicit;r(2),_("",e.email.join(", ")," ")}}function Q(t,a){if(t&1&&(n(0,"span"),s(1,"img",19),c(2),i()),t&2){let e=p().$implicit,l=p();r(2),_("",l.formatAddresses(e.address)," ")}}function V(t,a){if(t&1&&(n(0,"mat-card")(1,"mat-card-header"),d(2,G,4,2,"div",11),n(3,"mat-card-title"),c(4),i(),n(5,"mat-card-subtitle"),c(6,"\xA0"),i()(),n(7,"mat-card-content"),d(8,J,3,1,"span",11)(9,K,3,1,"span",11)(10,Q,3,1,"span",11),i()()),t&2){let e=a.$implicit;r(2),m("ngIf",e==null||e.icon==null?null:e.icon.length),r(2),C(e==null?null:e.name.join(", ")),r(4),m("ngIf",e==null||e.tel==null?null:e.tel.length),r(),m("ngIf",e==null||e.email==null?null:e.email.length),r(),m("ngIf",e==null||e.address==null?null:e.address.length)}}function X(t,a){if(t&1&&(f(0),n(1,"h2"),c(2),i(),x()),t&2){let e=p();r(2),C(e.statusText)}}function Z(t,a){t&1&&(n(0,"div",20),s(1,"img",21),i(),s(2,"br")(3,"br"),n(4,"a",22),c(5,"Source: can I use"),i())}var mt=(()=>{let a=class a{constructor(l,o){this.domSanitizer=l,this.titleService=o,this.supported=!0,this.contacts=[],this.titleService.setTitle("Contact Picker")}ngOnInit(){"contacts"in navigator&&"ContactsManager"in window||(this.supported=!1,this.statusText="Your browser does not support the Contact Picker API")}selectContacts(){return h(this,null,function*(){let l=["name","address","icon"],o={multiple:!0};try{this.contacts=yield navigator.contacts.select(l,o)}catch(g){this.statusText="An error occurred.",console.error(g)}})}getObjectUrl(l){try{return this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(l[0]))}catch(o){this.statusText="An error occurred.",console.error(o);return}}formatAddresses(l){let o=l[0];return`${o?.addressLine} ${o?.city} ${o?.postalCode} ${o?.country}`}};a.\u0275fac=function(o){return new(o||a)(u(T),u(y))},a.\u0275cmp=v({type:a,selectors:[["app-contact-picker"]],standalone:!0,features:[E],decls:35,vars:3,consts:[["defaultIcon",""],[1,"content"],[1,"flex-centered","warn-text"],[1,"descr-card"],[1,"flex-centered"],["src","assets/icons/warning.png","width","24","height","24","alt","warning icon",1,"icon-space"],["src","assets/icons/lock.png","width","24","height","24","alt","lock icon",1,"icon-space"],["mat-raised-button","","color","primary",3,"click","disabled"],["src","assets/icons/person.png","width","24","height","24","alt","person icon",1,"icon-space"],[1,"cards-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"accordion-container"],["multi","",1,"example-headers-align"],["matExpansionPanelContent",""],[4,"ngIf","ngIfElse"],["mat-card-avatar","","alt","contact icon",3,"src"],["src","assets/icons/phone.png","width","24","height","24","alt","phone icon",1,"icon-space"],["src","assets/icons/email.png","width","24","height","24","alt","email icon",1,"icon-space"],["src","assets/icons/place.png","width","24","height","24","alt","place icon",1,"icon-space"],[1,"img-container"],["src","assets/images/contacts-picker.png","alt","Contact Picker api support"],["href","https://caniuse.com/mdn-api_contactsmanager","target","_blank"]],template:function(o,g){o&1&&(n(0,"section",1)(1,"div",2)(2,"h1"),c(3,"Contact Picker API"),i()(),n(4,"mat-card",3)(5,"p"),c(6,"The "),n(7,"strong"),c(8,"Contact Picker API"),i(),c(9," fills another gap between web and native apps, allowing to access the address book on a mobile device. With this API we can retrieve details like: contact name, contact profile image, email address, phone number, street address. "),s(10,"br")(11,"br"),n(12,"span",4),s(13,"img",5),n(14,"span"),c(15,"Still experimental"),i()(),s(16,"br"),n(17,"span",4),s(18,"img",6),n(19,"span"),c(20,"This feature is available only on secure contexts (HTTPS)."),i()()()(),n(21,"button",7),S("click",function(){return g.selectContacts()}),s(22,"img",8),c(23," Select contacts "),i(),n(24,"div",9),d(25,V,11,5,"mat-card",10),i(),d(26,X,3,1,"ng-container",11),n(27,"div",12)(28,"mat-accordion",13)(29,"mat-expansion-panel")(30,"mat-expansion-panel-header")(31,"mat-panel-title")(32,"h1"),c(33,"Browser compatibility"),i()()(),d(34,Z,6,0,"ng-template",14),i()()()()),o&2&&(r(21),m("disabled",!g.supported),r(4),m("ngForOf",g.contacts),r(),m("ngIf",g.statusText))},dependencies:[W,B,N,H,R,L,D,O,w,I,k,z,F,$,j,U,A],styles:["section[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]{margin-top:1rem;display:flex;flex-wrap:wrap;gap:1.5rem}section[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{border-top:1px solid #d0d0d0;padding-top:.5rem}section[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.5rem}section[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]});let t=a;return t})();export{mt as ContactPickerComponent};
