import{c as y,e as T}from"./chunk-NAUQUYNC.js";import"./chunk-NME53Y3J.js";import{g as w,h as O,i as A,j as $,k as j,l as U}from"./chunk-H6TYOFTS.js";import{a as F,b as z,c as B,d as D,e as H,f as L,g as R}from"./chunk-6TMERT2D.js";import{h as k,i as I}from"./chunk-7MWEYH2J.js";import{$a as h,$b as M,Dc as E,Ec as b,Jb as n,Kb as a,Lb as r,Mb as u,Nb as C,Rb as v,Sb as p,ac as o,bc as f,cc as g,d as x,db as c,ib as _,lc as S,ob as P,sb as d,zb as s}from"./chunk-DSW3PZOY.js";function N(e,l){if(e&1&&(u(0),r(1,"img",16),C()),e&2){let t=l.ngIf;c(),s("src",t,h)}}function W(e,l){e&1&&r(0,"img",8)}function Y(e,l){if(e&1&&(n(0,"div"),d(1,N,2,1,"ng-container",15)(2,W,1,0,"ng-template",null,0,S),a()),e&2){let t=M(3),i=p().$implicit,m=p();c(),s("ngIf",m.getObjectUrl(i.icon))("ngIfElse",t)}}function q(e,l){if(e&1&&(n(0,"span"),r(1,"img",17),o(2),a()),e&2){let t=p().$implicit;c(2),g("",t.tel.join(", ")," ")}}function G(e,l){if(e&1&&(n(0,"span"),r(1,"img",18),o(2),a()),e&2){let t=p().$implicit;c(2),g("",t.email.join(", ")," ")}}function J(e,l){if(e&1&&(n(0,"span"),r(1,"img",19),o(2),a()),e&2){let t=p().$implicit,i=p();c(2),g("",i.formatAddresses(t.address)," ")}}function K(e,l){if(e&1&&(n(0,"mat-card")(1,"mat-card-header"),d(2,Y,4,2,"div",11),n(3,"mat-card-title"),o(4),a(),n(5,"mat-card-subtitle"),o(6,"\xA0"),a()(),n(7,"mat-card-content"),d(8,q,3,1,"span",11)(9,G,3,1,"span",11)(10,J,3,1,"span",11),a()()),e&2){let t=l.$implicit;c(2),s("ngIf",t==null||t.icon==null?null:t.icon.length),c(2),f(t==null?null:t.name.join(", ")),c(4),s("ngIf",t==null||t.tel==null?null:t.tel.length),c(),s("ngIf",t==null||t.email==null?null:t.email.length),c(),s("ngIf",t==null||t.address==null?null:t.address.length)}}function Q(e,l){if(e&1&&(u(0),n(1,"h2"),o(2),a(),C()),e&2){let t=p();c(2),f(t.statusText)}}function V(e,l){e&1&&(n(0,"div",20),r(1,"img",21),a(),r(2,"br")(3,"br"),n(4,"a",22),o(5,"Source: can I use"),a())}var lt=(()=>{class e{constructor(t,i){this.domSanitizer=t,this.titleService=i,this.supported=!0,this.contacts=[],this.titleService.setTitle("Contact Picker")}ngOnInit(){"contacts"in navigator&&"ContactsManager"in window||(this.supported=!1,this.statusText="Your browser does not support the Contact Picker API")}selectContacts(){return x(this,null,function*(){let t=["name","address","icon"],i={multiple:!0};try{this.contacts=yield navigator.contacts.select(t,i)}catch(m){this.statusText="An error occurred.",console.error(m)}})}getObjectUrl(t){try{return this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(t[0]))}catch(i){this.statusText="An error occurred.",console.error(i);return}}formatAddresses(t){let i=t[0];return`${i?.addressLine} ${i?.city} ${i?.postalCode} ${i?.country}`}static{this.\u0275fac=function(i){return new(i||e)(_(I),_(k))}}static{this.\u0275cmp=P({type:e,selectors:[["app-contact-picker"]],decls:35,vars:3,consts:[["defaultIcon",""],[1,"content"],[1,"flex-centered","warn-text"],[1,"descr-card"],[1,"flex-centered"],["src","assets/icons/warning.png","width","24","height","24","alt","warning icon",1,"icon-space"],["src","assets/icons/lock.png","width","24","height","24","alt","lock icon",1,"icon-space"],["mat-raised-button","","color","primary",3,"click","disabled"],["src","assets/icons/person.png","width","24","height","24","alt","person icon",1,"icon-space"],[1,"cards-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"accordion-container"],["multi","",1,"example-headers-align"],["matExpansionPanelContent",""],[4,"ngIf","ngIfElse"],["mat-card-avatar","","alt","contact icon",3,"src"],["src","assets/icons/phone.png","width","24","height","24","alt","phone icon",1,"icon-space"],["src","assets/icons/email.png","width","24","height","24","alt","email icon",1,"icon-space"],["src","assets/icons/place.png","width","24","height","24","alt","place icon",1,"icon-space"],[1,"img-container"],["src","assets/images/contacts-picker.png","alt","Contact Picker api support"],["href","https://caniuse.com/mdn-api_contactsmanager","target","_blank"]],template:function(i,m){i&1&&(n(0,"section",1)(1,"div",2)(2,"h1"),o(3,"Contact Picker API"),a()(),n(4,"mat-card",3)(5,"p"),o(6,"The "),n(7,"strong"),o(8,"Contact Picker API"),a(),o(9," fills another gap between web and native apps, allowing to access the address book on a mobile device. With this API we can retrieve details like: contact name, contact profile image, email address, phone number, street address. "),r(10,"br")(11,"br"),n(12,"span",4),r(13,"img",5),n(14,"span"),o(15,"Still experimental"),a()(),r(16,"br"),n(17,"span",4),r(18,"img",6),n(19,"span"),o(20,"This feature is available only on secure contexts (HTTPS)."),a()()()(),n(21,"button",7),v("click",function(){return m.selectContacts()}),r(22,"img",8),o(23," Select contacts "),a(),n(24,"div",9),d(25,K,11,5,"mat-card",10),a(),d(26,Q,3,1,"ng-container",11),n(27,"div",12)(28,"mat-accordion",13)(29,"mat-expansion-panel")(30,"mat-expansion-panel-header")(31,"mat-panel-title")(32,"h1"),o(33,"Browser compatibility"),a()()(),d(34,V,6,0,"ng-template",14),a()()()()),i&2&&(c(21),s("disabled",!m.supported),c(4),s("ngForOf",m.contacts),c(),s("ngIf",m.statusText))},dependencies:[R,F,L,B,H,D,z,T,y,E,b,U,j,O,A,$,w],styles:["section[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]{margin-top:1rem;display:flex;flex-wrap:wrap;gap:1.5rem}section[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{border-top:1px solid #d0d0d0;padding-top:.5rem}section[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.5rem}section[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]})}}return e})();export{lt as ContactPickerComponent};
