import{a as Ve,b as Ye,c as Xe,d as je,e as He}from"./chunk-5OUIED4Y.js";import{a as he,b as ue,d as St,f as xe}from"./chunk-QVOGMUM3.js";import"./chunk-HCU4XVIO.js";import{b as _e,g as me,h as ge,k as ye,m as ve,n as be,u as ke,x as we}from"./chunk-B7VOCU5S.js";import{c as et,e as Ct}from"./chunk-NAUQUYNC.js";import{b as _,d as fe,f as wt}from"./chunk-NME53Y3J.js";import{a as xt,b as Ot,c as Oe,d as Ee,e as Et,g as Re,h as Pe,i as De,j as Me,k as Be,l as Ae}from"./chunk-H6TYOFTS.js";import{a as Ie,b as Te,c as Fe,e as Le,g as Ne}from"./chunk-6TMERT2D.js";import{e as Se,h as Ce}from"./chunk-7MWEYH2J.js";import{$ as w,$b as ie,B as zt,Bb as te,Bc as ae,Ca as $,D as Zt,Eb as ee,Ec as le,Jb as f,K as pt,Ka as q,Kb as p,Lb as y,Lc as T,Mc as vt,Nc as ce,Oa as U,Pa as $t,Pb as J,Rb as Y,Rc as bt,Sb as D,Sc as j,W as z,Wb as mt,Xb as gt,Xc as kt,Yb as yt,a as b,ac as u,b as N,bc as ne,bd as de,ca as Z,cc as X,cd as tt,d as C,db as x,e as ht,f as Ht,fa as l,fb as ut,fd as pe,gb as Q,h as dt,ib as qt,k as g,ka as Kt,lc as se,oa as K,ob as P,oc as oe,p as Wt,pa as G,qb as V,rb as Ut,sa as ft,sb as I,sc as re,ua as A,wa as Gt,wc as E,xb as Qt,yb as Jt,za as R,zb as _t}from"./chunk-DSW3PZOY.js";var We=fe(),it=class{_viewportRuler;_previousHTMLStyles={top:"",left:""};_previousScrollPosition;_isEnabled=!1;_document;constructor(t,e){this._viewportRuler=t,this._document=e}attach(){}enable(){if(this._canBeEnabled()){let t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=_(-this._previousScrollPosition.left),t.style.top=_(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){let t=this._document.documentElement,e=this._document.body,i=t.style,s=e.style,o=i.scrollBehavior||"",r=s.scrollBehavior||"";this._isEnabled=!1,i.left=this._previousHTMLStyles.left,i.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),We&&(i.scrollBehavior=s.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),We&&(i.scrollBehavior=o,s.scrollBehavior=r)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;let e=this._document.documentElement,i=this._viewportRuler.getViewportSize();return e.scrollHeight>i.height||e.scrollWidth>i.width}};var nt=class{_scrollDispatcher;_ngZone;_viewportRuler;_config;_scrollSubscription=null;_overlayRef;_initialScrollPosition;constructor(t,e,i,s){this._scrollDispatcher=t,this._ngZone=e,this._viewportRuler=i,this._config=s}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(this._scrollSubscription)return;let t=this._scrollDispatcher.scrolled(0).pipe(Zt(e=>!e||!this._overlayRef.overlayElement.contains(e.getElementRef().nativeElement)));this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=t.subscribe(()=>{let e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=t.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}_detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}},H=class{enable(){}disable(){}attach(){}};function Rt(n,t){return t.some(e=>{let i=n.bottom<e.top,s=n.top>e.bottom,o=n.right<e.left,r=n.left>e.right;return i||s||o||r})}function ze(n,t){return t.some(e=>{let i=n.top<e.top,s=n.bottom>e.bottom,o=n.left<e.left,r=n.right>e.right;return i||s||o||r})}var st=class{_scrollDispatcher;_viewportRuler;_ngZone;_config;_scrollSubscription=null;_overlayRef;constructor(t,e,i,s){this._scrollDispatcher=t,this._viewportRuler=e,this._ngZone=i,this._config=s}attach(t){this._overlayRef,this._overlayRef=t}enable(){if(!this._scrollSubscription){let t=this._config?this._config.scrollThrottle:0;this._scrollSubscription=this._scrollDispatcher.scrolled(t).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){let e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:i,height:s}=this._viewportRuler.getViewportSize();Rt(e,[{width:i,height:s,bottom:s,right:i,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}})}}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}},Ue=(()=>{class n{_scrollDispatcher=l(ue);_viewportRuler=l(St);_ngZone=l(R);_document=l(E);constructor(){}noop=()=>new H;close=e=>new nt(this._scrollDispatcher,this._ngZone,this._viewportRuler,e);block=()=>new it(this._viewportRuler,this._document);reposition=e=>new st(this._scrollDispatcher,this._viewportRuler,this._ngZone,e);static \u0275fac=function(i){return new(i||n)};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),F=class{positionStrategy;scrollStrategy=new H;panelClass="";hasBackdrop=!1;backdropClass="cdk-overlay-dark-backdrop";width;height;minWidth;minHeight;maxWidth;maxHeight;direction;disposeOnNavigation=!1;constructor(t){if(t){let e=Object.keys(t);for(let i of e)t[i]!==void 0&&(this[i]=t[i])}}};var ot=class{connectionPair;scrollableViewProperties;constructor(t,e){this.connectionPair=t,this.scrollableViewProperties=e}};var Qe=(()=>{class n{_attachedOverlays=[];_document=l(E);_isAttached;constructor(){}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){let i=this._attachedOverlays.indexOf(e);i>-1&&this._attachedOverlays.splice(i,1),this._attachedOverlays.length===0&&this.detach()}static \u0275fac=function(i){return new(i||n)};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Je=(()=>{class n extends Qe{_ngZone=l(R);_renderer=l(Q).createRenderer(null,null);_cleanupKeydown;add(e){super.add(e),this._isAttached||(this._ngZone.runOutsideAngular(()=>{this._cleanupKeydown=this._renderer.listen("body","keydown",this._keydownListener)}),this._isAttached=!0)}detach(){this._isAttached&&(this._cleanupKeydown?.(),this._isAttached=!1)}_keydownListener=e=>{let i=this._attachedOverlays;for(let s=i.length-1;s>-1;s--)if(i[s]._keydownEvents.observers.length>0){this._ngZone.run(()=>i[s]._keydownEvents.next(e));break}};static \u0275fac=(()=>{let e;return function(s){return(e||(e=ft(n)))(s||n)}})();static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),ti=(()=>{class n extends Qe{_platform=l(T);_ngZone=l(R);_renderer=l(Q).createRenderer(null,null);_cursorOriginalValue;_cursorStyleIsSet=!1;_pointerDownEventTarget;_cleanups;add(e){if(super.add(e),!this._isAttached){let i=this._document.body,s={capture:!0};this._cleanups=this._ngZone.runOutsideAngular(()=>[j(this._renderer,i,"pointerdown",this._pointerDownListener,s),j(this._renderer,i,"click",this._clickListener,s),j(this._renderer,i,"auxclick",this._clickListener,s),j(this._renderer,i,"contextmenu",this._clickListener,s)]),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=i.style.cursor,i.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){this._isAttached&&(this._cleanups?.forEach(e=>e()),this._cleanups=void 0,this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}_pointerDownListener=e=>{this._pointerDownEventTarget=bt(e)};_clickListener=e=>{let i=bt(e),s=e.type==="click"&&this._pointerDownEventTarget?this._pointerDownEventTarget:i;this._pointerDownEventTarget=null;let o=this._attachedOverlays.slice();for(let r=o.length-1;r>-1;r--){let a=o[r];if(a._outsidePointerEvents.observers.length<1||!a.hasAttached())continue;if(Ze(a.overlayElement,i)||Ze(a.overlayElement,s))break;let c=a._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>c.next(e)):c.next(e)}};static \u0275fac=(()=>{let e;return function(s){return(e||(e=ft(n)))(s||n)}})();static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ze(n,t){let e=typeof ShadowRoot<"u"&&ShadowRoot,i=t;for(;i;){if(i===n)return!0;i=e&&i instanceof ShadowRoot?i.host:i.parentNode}return!1}var ei=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275cmp=P({type:n,selectors:[["ng-component"]],hostAttrs:["cdk-overlay-style-loader",""],decls:0,vars:0,template:function(i,s){},styles:[`.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:none;top:0;left:0;height:100%;width:100%}.cdk-overlay-container{position:fixed}@layer cdk-overlay{.cdk-overlay-container{z-index:1000}}.cdk-overlay-container:empty{display:none}.cdk-global-overlay-wrapper{display:flex;position:absolute}@layer cdk-overlay{.cdk-global-overlay-wrapper{z-index:1000}}.cdk-overlay-pane{position:absolute;pointer-events:auto;box-sizing:border-box;display:flex;max-width:100%;max-height:100%}@layer cdk-overlay{.cdk-overlay-pane{z-index:1000}}.cdk-overlay-backdrop{position:absolute;top:0;bottom:0;left:0;right:0;pointer-events:auto;-webkit-tap-highlight-color:rgba(0,0,0,0);opacity:0;touch-action:manipulation}@layer cdk-overlay{.cdk-overlay-backdrop{z-index:1000;transition:opacity 400ms cubic-bezier(0.25, 0.8, 0.25, 1)}}@media(prefers-reduced-motion){.cdk-overlay-backdrop{transition-duration:1ms}}.cdk-overlay-backdrop-showing{opacity:1}@media(forced-colors: active){.cdk-overlay-backdrop-showing{opacity:.6}}@layer cdk-overlay{.cdk-overlay-dark-backdrop{background:rgba(0,0,0,.32)}}.cdk-overlay-transparent-backdrop{transition:visibility 1ms linear,opacity 1ms linear;visibility:hidden;opacity:1}.cdk-overlay-transparent-backdrop.cdk-overlay-backdrop-showing,.cdk-high-contrast-active .cdk-overlay-transparent-backdrop{opacity:0;visibility:visible}.cdk-overlay-backdrop-noop-animation{transition:none}.cdk-overlay-connected-position-bounding-box{position:absolute;display:flex;flex-direction:column;min-width:1px;min-height:1px}@layer cdk-overlay{.cdk-overlay-connected-position-bounding-box{z-index:1000}}.cdk-global-scrollblock{position:fixed;width:100%;overflow-y:scroll}
`],encapsulation:2,changeDetection:0})}return n})(),ii=(()=>{class n{_platform=l(T);_containerElement;_document=l(E);_styleLoader=l(kt);constructor(){}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._loadStyles(),this._containerElement||this._createContainer(),this._containerElement}_createContainer(){let e="cdk-overlay-container";if(this._platform.isBrowser||wt()){let s=this._document.querySelectorAll(`.${e}[platform="server"], .${e}[platform="test"]`);for(let o=0;o<s.length;o++)s[o].remove()}let i=this._document.createElement("div");i.classList.add(e),wt()?i.setAttribute("platform","test"):this._platform.isBrowser||i.setAttribute("platform","server"),this._document.body.appendChild(i),this._containerElement=i}_loadStyles(){this._styleLoader.load(ei)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Pt=class{_renderer;_ngZone;element;_cleanupClick;_cleanupTransitionEnd;_fallbackTimeout;constructor(t,e,i,s){this._renderer=e,this._ngZone=i,this.element=t.createElement("div"),this.element.classList.add("cdk-overlay-backdrop"),this._cleanupClick=e.listen(this.element,"click",s)}detach(){this._ngZone.runOutsideAngular(()=>{let t=this.element;clearTimeout(this._fallbackTimeout),this._cleanupTransitionEnd?.(),this._cleanupTransitionEnd=this._renderer.listen(t,"transitionend",this.dispose),this._fallbackTimeout=setTimeout(this.dispose,500),t.style.pointerEvents="none",t.classList.remove("cdk-overlay-backdrop-showing")})}dispose=()=>{clearTimeout(this._fallbackTimeout),this._cleanupClick?.(),this._cleanupTransitionEnd?.(),this._cleanupClick=this._cleanupTransitionEnd=this._fallbackTimeout=void 0,this.element.remove()}},rt=class{_portalOutlet;_host;_pane;_config;_ngZone;_keyboardDispatcher;_document;_location;_outsideClickDispatcher;_animationsDisabled;_injector;_renderer;_backdropClick=new g;_attachments=new g;_detachments=new g;_positionStrategy;_scrollStrategy;_locationChanges=dt.EMPTY;_backdropRef=null;_previousHostParent;_keydownEvents=new g;_outsidePointerEvents=new g;_renders=new g;_afterRenderRef;_afterNextRenderRef;constructor(t,e,i,s,o,r,a,c,d,h=!1,m,O){this._portalOutlet=t,this._host=e,this._pane=i,this._config=s,this._ngZone=o,this._keyboardDispatcher=r,this._document=a,this._location=c,this._outsideClickDispatcher=d,this._animationsDisabled=h,this._injector=m,this._renderer=O,s.scrollStrategy&&(this._scrollStrategy=s.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=s.positionStrategy,this._afterRenderRef=re(()=>U(()=>{this._renders.next()},{injector:this._injector}))}get overlayElement(){return this._pane}get backdropElement(){return this._backdropRef?.element||null}get hostElement(){return this._host}attach(t){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);let e=this._portalOutlet.attach(t);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._afterNextRenderRef?.destroy(),this._afterNextRenderRef=$t(()=>{this.hasAttached()&&this.updatePosition()},{injector:this._injector}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),typeof e?.onDestroy=="function"&&e.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),e}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();let t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenEmpty(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),t}dispose(){let t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._backdropRef?.dispose(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._afterNextRenderRef?.destroy(),this._previousHostParent=this._pane=this._host=this._backdropRef=null,t&&this._detachments.next(),this._detachments.complete(),this._afterRenderRef.destroy(),this._renders.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}updateSize(t){this._config=b(b({},this._config),t),this._updateElementSize()}setDirection(t){this._config=N(b({},this._config),{direction:t}),this._updateElementDirection()}addPanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!0)}removePanelClass(t){this._pane&&this._toggleClasses(this._pane,t,!1)}getDirection(){let t=this._config.direction;return t?typeof t=="string"?t:t.value:"ltr"}updateScrollStrategy(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;let t=this._pane.style;t.width=_(this._config.width),t.height=_(this._config.height),t.minWidth=_(this._config.minWidth),t.minHeight=_(this._config.minHeight),t.maxWidth=_(this._config.maxWidth),t.maxHeight=_(this._config.maxHeight)}_togglePointerEvents(t){this._pane.style.pointerEvents=t?"":"none"}_attachBackdrop(){let t="cdk-overlay-backdrop-showing";this._backdropRef?.dispose(),this._backdropRef=new Pt(this._document,this._renderer,this._ngZone,e=>{this._backdropClick.next(e)}),this._animationsDisabled&&this._backdropRef.element.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropRef.element,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropRef.element,this._host),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>this._backdropRef?.element.classList.add(t))}):this._backdropRef.element.classList.add(t)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){this._animationsDisabled?(this._backdropRef?.dispose(),this._backdropRef=null):this._backdropRef?.detach()}_toggleClasses(t,e,i){let s=vt(e||[]).filter(o=>!!o);s.length&&(i?t.classList.add(...s):t.classList.remove(...s))}_detachContentWhenEmpty(){this._ngZone.runOutsideAngular(()=>{let t=this._renders.pipe(z(zt(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||this._pane.children.length===0)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),t.unsubscribe())})})}_disposeScrollStrategy(){let t=this._scrollStrategy;t?.disable(),t?.detach?.()}},Ke="cdk-overlay-connected-position-bounding-box",gi=/([A-Za-z%]+)$/,at=class{_viewportRuler;_document;_platform;_overlayContainer;_overlayRef;_isInitialRender;_lastBoundingBoxSize={width:0,height:0};_isPushed=!1;_canPush=!0;_growAfterOpen=!1;_hasFlexibleDimensions=!0;_positionLocked=!1;_originRect;_overlayRect;_viewportRect;_containerRect;_viewportMargin=0;_scrollables=[];_preferredPositions=[];_origin;_pane;_isDisposed;_boundingBox;_lastPosition;_lastScrollVisibility;_positionChanges=new g;_resizeSubscription=dt.EMPTY;_offsetX=0;_offsetY=0;_transformOriginSelector;_appliedPanelClasses=[];_previousPushAmount;positionChanges=this._positionChanges;get positions(){return this._preferredPositions}constructor(t,e,i,s,o){this._viewportRuler=e,this._document=i,this._platform=s,this._overlayContainer=o,this.setOrigin(t)}attach(t){this._overlayRef&&this._overlayRef,this._validatePositions(),t.hostElement.classList.add(Ke),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition){this.reapplyLastPosition();return}this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let t=this._originRect,e=this._overlayRect,i=this._viewportRect,s=this._containerRect,o=[],r;for(let a of this._preferredPositions){let c=this._getOriginPoint(t,s,a),d=this._getOverlayPoint(c,e,a),h=this._getOverlayFit(d,e,i,a);if(h.isCompletelyWithinViewport){this._isPushed=!1,this._applyPosition(a,c);return}if(this._canFitWithFlexibleDimensions(h,d,i)){o.push({position:a,origin:c,overlayRect:e,boundingBoxRect:this._calculateBoundingBoxRect(c,a)});continue}(!r||r.overlayFit.visibleArea<h.visibleArea)&&(r={overlayFit:h,overlayPoint:d,originPoint:c,position:a,overlayRect:e})}if(o.length){let a=null,c=-1;for(let d of o){let h=d.boundingBoxRect.width*d.boundingBoxRect.height*(d.position.weight||1);h>c&&(c=h,a=d)}this._isPushed=!1,this._applyPosition(a.position,a.origin);return}if(this._canPush){this._isPushed=!0,this._applyPosition(r.position,r.originPoint);return}this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&M(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(Ke),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;let t=this._lastPosition;if(t){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();let e=this._getOriginPoint(this._originRect,this._containerRect,t);this._applyPosition(t,e)}else this.apply()}withScrollableContainers(t){return this._scrollables=t,this}withPositions(t){return this._preferredPositions=t,t.indexOf(this._lastPosition)===-1&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(t){return this._viewportMargin=t,this}withFlexibleDimensions(t=!0){return this._hasFlexibleDimensions=t,this}withGrowAfterOpen(t=!0){return this._growAfterOpen=t,this}withPush(t=!0){return this._canPush=t,this}withLockedPosition(t=!0){return this._positionLocked=t,this}setOrigin(t){return this._origin=t,this}withDefaultOffsetX(t){return this._offsetX=t,this}withDefaultOffsetY(t){return this._offsetY=t,this}withTransformOriginOn(t){return this._transformOriginSelector=t,this}_getOriginPoint(t,e,i){let s;if(i.originX=="center")s=t.left+t.width/2;else{let r=this._isRtl()?t.right:t.left,a=this._isRtl()?t.left:t.right;s=i.originX=="start"?r:a}e.left<0&&(s-=e.left);let o;return i.originY=="center"?o=t.top+t.height/2:o=i.originY=="top"?t.top:t.bottom,e.top<0&&(o-=e.top),{x:s,y:o}}_getOverlayPoint(t,e,i){let s;i.overlayX=="center"?s=-e.width/2:i.overlayX==="start"?s=this._isRtl()?-e.width:0:s=this._isRtl()?0:-e.width;let o;return i.overlayY=="center"?o=-e.height/2:o=i.overlayY=="top"?0:-e.height,{x:t.x+s,y:t.y+o}}_getOverlayFit(t,e,i,s){let o=$e(e),{x:r,y:a}=t,c=this._getOffset(s,"x"),d=this._getOffset(s,"y");c&&(r+=c),d&&(a+=d);let h=0-r,m=r+o.width-i.width,O=0-a,k=a+o.height-i.height,v=this._subtractOverflows(o.width,h,m),S=this._subtractOverflows(o.height,O,k),jt=v*S;return{visibleArea:jt,isCompletelyWithinViewport:o.width*o.height===jt,fitsInViewportVertically:S===o.height,fitsInViewportHorizontally:v==o.width}}_canFitWithFlexibleDimensions(t,e,i){if(this._hasFlexibleDimensions){let s=i.bottom-e.y,o=i.right-e.x,r=Ge(this._overlayRef.getConfig().minHeight),a=Ge(this._overlayRef.getConfig().minWidth),c=t.fitsInViewportVertically||r!=null&&r<=s,d=t.fitsInViewportHorizontally||a!=null&&a<=o;return c&&d}return!1}_pushOverlayOnScreen(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};let s=$e(e),o=this._viewportRect,r=Math.max(t.x+s.width-o.width,0),a=Math.max(t.y+s.height-o.height,0),c=Math.max(o.top-i.top-t.y,0),d=Math.max(o.left-i.left-t.x,0),h=0,m=0;return s.width<=o.width?h=d||-r:h=t.x<this._viewportMargin?o.left-i.left-t.x:0,s.height<=o.height?m=c||-a:m=t.y<this._viewportMargin?o.top-i.top-t.y:0,this._previousPushAmount={x:h,y:m},{x:t.x+h,y:t.y+m}}_applyPosition(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._positionChanges.observers.length){let i=this._getScrollVisibility();if(t!==this._lastPosition||!this._lastScrollVisibility||!yi(this._lastScrollVisibility,i)){let s=new ot(t,i);this._positionChanges.next(s)}this._lastScrollVisibility=i}this._lastPosition=t,this._isInitialRender=!1}_setTransformOrigin(t){if(!this._transformOriginSelector)return;let e=this._boundingBox.querySelectorAll(this._transformOriginSelector),i,s=t.overlayY;t.overlayX==="center"?i="center":this._isRtl()?i=t.overlayX==="start"?"right":"left":i=t.overlayX==="start"?"left":"right";for(let o=0;o<e.length;o++)e[o].style.transformOrigin=`${i} ${s}`}_calculateBoundingBoxRect(t,e){let i=this._viewportRect,s=this._isRtl(),o,r,a;if(e.overlayY==="top")r=t.y,o=i.height-r+this._viewportMargin;else if(e.overlayY==="bottom")a=i.height-t.y+this._viewportMargin*2,o=i.height-a+this._viewportMargin;else{let k=Math.min(i.bottom-t.y+i.top,t.y),v=this._lastBoundingBoxSize.height;o=k*2,r=t.y-k,o>v&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.y-v/2)}let c=e.overlayX==="start"&&!s||e.overlayX==="end"&&s,d=e.overlayX==="end"&&!s||e.overlayX==="start"&&s,h,m,O;if(d)O=i.width-t.x+this._viewportMargin*2,h=t.x-this._viewportMargin;else if(c)m=t.x,h=i.right-t.x;else{let k=Math.min(i.right-t.x+i.left,t.x),v=this._lastBoundingBoxSize.width;h=k*2,m=t.x-k,h>v&&!this._isInitialRender&&!this._growAfterOpen&&(m=t.x-v/2)}return{top:r,left:m,bottom:a,right:O,width:h,height:o}}_setBoundingBoxStyles(t,e){let i=this._calculateBoundingBoxRect(t,e);!this._isInitialRender&&!this._growAfterOpen&&(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));let s={};if(this._hasExactPosition())s.top=s.left="0",s.bottom=s.right=s.maxHeight=s.maxWidth="",s.width=s.height="100%";else{let o=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;s.height=_(i.height),s.top=_(i.top),s.bottom=_(i.bottom),s.width=_(i.width),s.left=_(i.left),s.right=_(i.right),e.overlayX==="center"?s.alignItems="center":s.alignItems=e.overlayX==="end"?"flex-end":"flex-start",e.overlayY==="center"?s.justifyContent="center":s.justifyContent=e.overlayY==="bottom"?"flex-end":"flex-start",o&&(s.maxHeight=_(o)),r&&(s.maxWidth=_(r))}this._lastBoundingBoxSize=i,M(this._boundingBox.style,s)}_resetBoundingBoxStyles(){M(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){M(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(t,e){let i={},s=this._hasExactPosition(),o=this._hasFlexibleDimensions,r=this._overlayRef.getConfig();if(s){let h=this._viewportRuler.getViewportScrollPosition();M(i,this._getExactOverlayY(e,t,h)),M(i,this._getExactOverlayX(e,t,h))}else i.position="static";let a="",c=this._getOffset(e,"x"),d=this._getOffset(e,"y");c&&(a+=`translateX(${c}px) `),d&&(a+=`translateY(${d}px)`),i.transform=a.trim(),r.maxHeight&&(s?i.maxHeight=_(r.maxHeight):o&&(i.maxHeight="")),r.maxWidth&&(s?i.maxWidth=_(r.maxWidth):o&&(i.maxWidth="")),M(this._pane.style,i)}_getExactOverlayY(t,e,i){let s={top:"",bottom:""},o=this._getOverlayPoint(e,this._overlayRect,t);if(this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i)),t.overlayY==="bottom"){let r=this._document.documentElement.clientHeight;s.bottom=`${r-(o.y+this._overlayRect.height)}px`}else s.top=_(o.y);return s}_getExactOverlayX(t,e,i){let s={left:"",right:""},o=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,i));let r;if(this._isRtl()?r=t.overlayX==="end"?"left":"right":r=t.overlayX==="end"?"right":"left",r==="right"){let a=this._document.documentElement.clientWidth;s.right=`${a-(o.x+this._overlayRect.width)}px`}else s.left=_(o.x);return s}_getScrollVisibility(){let t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map(s=>s.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:ze(t,i),isOriginOutsideView:Rt(t,i),isOverlayClipped:ze(e,i),isOverlayOutsideView:Rt(e,i)}}_subtractOverflows(t,...e){return e.reduce((i,s)=>i-Math.max(s,0),t)}_getNarrowedViewportRect(){let t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}_isRtl(){return this._overlayRef.getDirection()==="rtl"}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(t,e){return e==="x"?t.offsetX==null?this._offsetX:t.offsetX:t.offsetY==null?this._offsetY:t.offsetY}_validatePositions(){}_addPanelClasses(t){this._pane&&vt(t).forEach(e=>{e!==""&&this._appliedPanelClasses.indexOf(e)===-1&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(t=>{this._pane.classList.remove(t)}),this._appliedPanelClasses=[])}_getOriginRect(){let t=this._origin;if(t instanceof $)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();let e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}};function M(n,t){for(let e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function Ge(n){if(typeof n!="number"&&n!=null){let[t,e]=n.split(gi);return!e||e==="px"?parseFloat(t):null}return n||null}function $e(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}function yi(n,t){return n===t?!0:n.isOriginClipped===t.isOriginClipped&&n.isOriginOutsideView===t.isOriginOutsideView&&n.isOverlayClipped===t.isOverlayClipped&&n.isOverlayOutsideView===t.isOverlayOutsideView}var qe="cdk-global-overlay-wrapper",lt=class{_overlayRef;_cssPosition="static";_topOffset="";_bottomOffset="";_alignItems="";_xPosition="";_xOffset="";_width="";_height="";_isDisposed=!1;attach(t){let e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(qe),this._isDisposed=!1}top(t=""){return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}left(t=""){return this._xOffset=t,this._xPosition="left",this}bottom(t=""){return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}right(t=""){return this._xOffset=t,this._xPosition="right",this}start(t=""){return this._xOffset=t,this._xPosition="start",this}end(t=""){return this._xOffset=t,this._xPosition="end",this}width(t=""){return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}height(t=""){return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}centerHorizontally(t=""){return this.left(t),this._xPosition="center",this}centerVertically(t=""){return this.top(t),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),{width:s,height:o,maxWidth:r,maxHeight:a}=i,c=(s==="100%"||s==="100vw")&&(!r||r==="100%"||r==="100vw"),d=(o==="100%"||o==="100vh")&&(!a||a==="100%"||a==="100vh"),h=this._xPosition,m=this._xOffset,O=this._overlayRef.getConfig().direction==="rtl",k="",v="",S="";c?S="flex-start":h==="center"?(S="center",O?v=m:k=m):O?h==="left"||h==="end"?(S="flex-end",k=m):(h==="right"||h==="start")&&(S="flex-start",v=m):h==="left"||h==="start"?(S="flex-start",k=m):(h==="right"||h==="end")&&(S="flex-end",v=m),t.position=this._cssPosition,t.marginLeft=c?"0":k,t.marginTop=d?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=c?"0":v,e.justifyContent=S,e.alignItems=d?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;let t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(qe),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}},ni=(()=>{class n{_viewportRuler=l(St);_document=l(E);_platform=l(T);_overlayContainer=l(ii);constructor(){}global(){return new lt}flexibleConnectedTo(e){return new at(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Mt=(()=>{class n{scrollStrategies=l(Ue);_overlayContainer=l(ii);_positionBuilder=l(ni);_keyboardDispatcher=l(Je);_injector=l(A);_ngZone=l(R);_document=l(E);_directionality=l(pe);_location=l(ae);_outsideClickDispatcher=l(ti);_animationsModuleType=l(q,{optional:!0});_idGenerator=l(tt);_renderer=l(Q).createRenderer(null,null);_appRef;_styleLoader=l(kt);constructor(){}create(e){this._styleLoader.load(ei);let i=this._createHostElement(),s=this._createPaneElement(i),o=this._createPortalOutlet(s),r=new F(e);return r.direction=r.direction||this._directionality.value,new rt(o,i,s,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,this._animationsModuleType==="NoopAnimations",this._injector.get(Kt),this._renderer)}position(){return this._positionBuilder}_createPaneElement(e){let i=this._document.createElement("div");return i.id=this._idGenerator.getId("cdk-overlay-"),i.classList.add("cdk-overlay-pane"),e.appendChild(i),i}_createHostElement(){let e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Qt)),new Ee(e,null,this._appRef,this._injector,this._document)}static \u0275fac=function(i){return new(i||n)};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function bi(n,t){if(n&1){let e=J();f(0,"div",1)(1,"button",2),Y("click",function(){K(e);let s=D();return G(s.action())}),u(2),p()()}if(n&2){let e=D();x(2),X(" ",e.data.action," ")}}var ki=["label"];function wi(n,t){}var Si=Math.pow(2,31)-1,W=class{_overlayRef;instance;containerInstance;_afterDismissed=new g;_afterOpened=new g;_onAction=new g;_durationTimeoutId;_dismissedByAction=!1;constructor(t,e){this._overlayRef=e,this.containerInstance=t,t._onExit.subscribe(()=>this._finishDismiss())}dismiss(){this._afterDismissed.closed||this.containerInstance.exit(),clearTimeout(this._durationTimeoutId)}dismissWithAction(){this._onAction.closed||(this._dismissedByAction=!0,this._onAction.next(),this._onAction.complete(),this.dismiss()),clearTimeout(this._durationTimeoutId)}closeWithAction(){this.dismissWithAction()}_dismissAfter(t){this._durationTimeoutId=setTimeout(()=>this.dismiss(),Math.min(t,Si))}_open(){this._afterOpened.closed||(this._afterOpened.next(),this._afterOpened.complete())}_finishDismiss(){this._overlayRef.dispose(),this._onAction.closed||this._onAction.complete(),this._afterDismissed.next({dismissedByAction:this._dismissedByAction}),this._afterDismissed.complete(),this._dismissedByAction=!1}afterDismissed(){return this._afterDismissed}afterOpened(){return this.containerInstance._onEnter}onAction(){return this._onAction}},si=new Z("MatSnackBarData"),L=class{politeness="assertive";announcementMessage="";viewContainerRef;duration=0;panelClass;direction;data=null;horizontalPosition="center";verticalPosition="bottom"},Ci=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","matSnackBarLabel",""]],hostAttrs:[1,"mat-mdc-snack-bar-label","mdc-snackbar__label"]})}return n})(),xi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","matSnackBarActions",""]],hostAttrs:[1,"mat-mdc-snack-bar-actions","mdc-snackbar__actions"]})}return n})(),Oi=(()=>{class n{static \u0275fac=function(i){return new(i||n)};static \u0275dir=V({type:n,selectors:[["","matSnackBarAction",""]],hostAttrs:[1,"mat-mdc-snack-bar-action","mdc-snackbar__action"]})}return n})(),Ei=(()=>{class n{snackBarRef=l(W);data=l(si);constructor(){}action(){this.snackBarRef.dismissWithAction()}get hasAction(){return!!this.data.action}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=P({type:n,selectors:[["simple-snack-bar"]],hostAttrs:[1,"mat-mdc-simple-snack-bar"],exportAs:["matSnackBar"],decls:3,vars:2,consts:[["matSnackBarLabel",""],["matSnackBarActions",""],["mat-button","","matSnackBarAction","",3,"click"]],template:function(i,s){i&1&&(f(0,"div",0),u(1),p(),I(2,bi,3,1,"div",1)),i&2&&(x(),X(" ",s.data.message,`
`),x(),ee(s.hasAction?2:-1))},dependencies:[et,Ci,xi,Oi],styles:[`.mat-mdc-simple-snack-bar{display:flex}
`],encapsulation:2,changeDetection:0})}return n})(),Bt="_mat-snack-bar-enter",At="_mat-snack-bar-exit",Ri=(()=>{class n extends Oe{_ngZone=l(R);_elementRef=l($);_changeDetectorRef=l(oe);_platform=l(T);_rendersRef;_animationsDisabled=l(q,{optional:!0})==="NoopAnimations";snackBarConfig=l(L);_document=l(E);_trackedModals=new Set;_enterFallback;_exitFallback;_renders=new g;_announceDelay=150;_announceTimeoutId;_destroyed=!1;_portalOutlet;_onAnnounce=new g;_onExit=new g;_onEnter=new g;_animationState="void";_live;_label;_role;_liveElementId=l(tt).getId("mat-snack-bar-container-live-");constructor(){super();let e=this.snackBarConfig;e.politeness==="assertive"&&!e.announcementMessage?this._live="assertive":e.politeness==="off"?this._live="off":this._live="polite",this._platform.FIREFOX&&(this._live==="polite"&&(this._role="status"),this._live==="assertive"&&(this._role="alert")),this._rendersRef=U(()=>this._renders.next(),{manualCleanup:!0})}attachComponentPortal(e){this._assertNotAttached();let i=this._portalOutlet.attachComponentPortal(e);return this._afterPortalAttached(),i}attachTemplatePortal(e){this._assertNotAttached();let i=this._portalOutlet.attachTemplatePortal(e);return this._afterPortalAttached(),i}attachDomPortal=e=>{this._assertNotAttached();let i=this._portalOutlet.attachDomPortal(e);return this._afterPortalAttached(),i};onAnimationEnd(e){e===At?this._completeExit():e===Bt&&(clearTimeout(this._enterFallback),this._ngZone.run(()=>{this._onEnter.next(),this._onEnter.complete()}))}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.markForCheck(),this._changeDetectorRef.detectChanges(),this._screenReaderAnnounce(),this._animationsDisabled?this._renders.pipe(pt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(Bt)))}):(clearTimeout(this._enterFallback),this._enterFallback=setTimeout(()=>{this._elementRef.nativeElement.classList.add("mat-snack-bar-fallback-visible"),this.onAnimationEnd(Bt)},200)))}exit(){return this._destroyed?Wt(void 0):(this._ngZone.run(()=>{this._animationState="hidden",this._changeDetectorRef.markForCheck(),this._elementRef.nativeElement.setAttribute("mat-exit",""),clearTimeout(this._announceTimeoutId),this._animationsDisabled?this._renders.pipe(pt(1)).subscribe(()=>{this._ngZone.run(()=>queueMicrotask(()=>this.onAnimationEnd(At)))}):(clearTimeout(this._exitFallback),this._exitFallback=setTimeout(()=>this.onAnimationEnd(At),200))}),this._onExit)}ngOnDestroy(){this._destroyed=!0,this._clearFromModals(),this._completeExit(),this._renders.complete(),this._rendersRef.destroy()}_completeExit(){clearTimeout(this._exitFallback),queueMicrotask(()=>{this._onExit.next(),this._onExit.complete()})}_afterPortalAttached(){let e=this._elementRef.nativeElement,i=this.snackBarConfig.panelClass;i&&(Array.isArray(i)?i.forEach(r=>e.classList.add(r)):e.classList.add(i)),this._exposeToModals();let s=this._label.nativeElement,o="mdc-snackbar__label";s.classList.toggle(o,!s.querySelector(`.${o}`))}_exposeToModals(){let e=this._liveElementId,i=this._document.querySelectorAll('body > .cdk-overlay-container [aria-modal="true"]');for(let s=0;s<i.length;s++){let o=i[s],r=o.getAttribute("aria-owns");this._trackedModals.add(o),r?r.indexOf(e)===-1&&o.setAttribute("aria-owns",r+" "+e):o.setAttribute("aria-owns",e)}}_clearFromModals(){this._trackedModals.forEach(e=>{let i=e.getAttribute("aria-owns");if(i){let s=i.replace(this._liveElementId,"").trim();s.length>0?e.setAttribute("aria-owns",s):e.removeAttribute("aria-owns")}}),this._trackedModals.clear()}_assertNotAttached(){this._portalOutlet.hasAttached()}_screenReaderAnnounce(){this._announceTimeoutId||this._ngZone.runOutsideAngular(()=>{this._announceTimeoutId=setTimeout(()=>{if(this._destroyed)return;let e=this._elementRef.nativeElement,i=e.querySelector("[aria-hidden]"),s=e.querySelector("[aria-live]");if(i&&s){let o=null;this._platform.isBrowser&&document.activeElement instanceof HTMLElement&&i.contains(document.activeElement)&&(o=document.activeElement),i.removeAttribute("aria-hidden"),s.appendChild(i),o?.focus(),this._onAnnounce.next(),this._onAnnounce.complete()}},this._announceDelay)})}static \u0275fac=function(i){return new(i||n)};static \u0275cmp=P({type:n,selectors:[["mat-snack-bar-container"]],viewQuery:function(i,s){if(i&1&&(mt(Et,7),mt(ki,7)),i&2){let o;gt(o=yt())&&(s._portalOutlet=o.first),gt(o=yt())&&(s._label=o.first)}},hostAttrs:[1,"mdc-snackbar","mat-mdc-snack-bar-container"],hostVars:6,hostBindings:function(i,s){i&1&&Y("animationend",function(r){return s.onAnimationEnd(r.animationName)})("animationcancel",function(r){return s.onAnimationEnd(r.animationName)}),i&2&&te("mat-snack-bar-container-enter",s._animationState==="visible")("mat-snack-bar-container-exit",s._animationState==="hidden")("mat-snack-bar-container-animations-enabled",!s._animationsDisabled)},features:[Ut],decls:6,vars:3,consts:[["label",""],[1,"mdc-snackbar__surface","mat-mdc-snackbar-surface"],[1,"mat-mdc-snack-bar-label"],["aria-hidden","true"],["cdkPortalOutlet",""]],template:function(i,s){i&1&&(f(0,"div",1)(1,"div",2,0)(3,"div",3),I(4,wi,0,0,"ng-template",4),p(),y(5,"div"),p()()),i&2&&(x(5),Jt("aria-live",s._live)("role",s._role)("id",s._liveElementId))},dependencies:[Et],styles:[`@keyframes _mat-snack-bar-enter{from{transform:scale(0.8);opacity:0}to{transform:scale(1);opacity:1}}@keyframes _mat-snack-bar-exit{from{opacity:1}to{opacity:0}}.mat-mdc-snack-bar-container{display:flex;align-items:center;justify-content:center;box-sizing:border-box;-webkit-tap-highlight-color:rgba(0,0,0,0);margin:8px}.mat-mdc-snack-bar-handset .mat-mdc-snack-bar-container{width:100vw}.mat-snack-bar-container-animations-enabled{opacity:0}.mat-snack-bar-container-animations-enabled.mat-snack-bar-fallback-visible{opacity:1}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-enter{animation:_mat-snack-bar-enter 150ms cubic-bezier(0, 0, 0.2, 1) forwards}.mat-snack-bar-container-animations-enabled.mat-snack-bar-container-exit{animation:_mat-snack-bar-exit 75ms cubic-bezier(0.4, 0, 1, 1) forwards}.mat-mdc-snackbar-surface{box-shadow:0px 3px 5px -1px rgba(0, 0, 0, 0.2), 0px 6px 10px 0px rgba(0, 0, 0, 0.14), 0px 1px 18px 0px rgba(0, 0, 0, 0.12);display:flex;align-items:center;justify-content:flex-start;box-sizing:border-box;padding-left:0;padding-right:8px}[dir=rtl] .mat-mdc-snackbar-surface{padding-right:0;padding-left:8px}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{min-width:344px;max-width:672px}.mat-mdc-snack-bar-handset .mat-mdc-snackbar-surface{width:100%;min-width:0}@media(forced-colors: active){.mat-mdc-snackbar-surface{outline:solid 1px}}.mat-mdc-snack-bar-container .mat-mdc-snackbar-surface{color:var(--mdc-snackbar-supporting-text-color, var(--mat-sys-inverse-on-surface));border-radius:var(--mdc-snackbar-container-shape, var(--mat-sys-corner-extra-small));background-color:var(--mdc-snackbar-container-color, var(--mat-sys-inverse-surface))}.mdc-snackbar__label{width:100%;flex-grow:1;box-sizing:border-box;margin:0;padding:14px 8px 14px 16px}[dir=rtl] .mdc-snackbar__label{padding-left:8px;padding-right:16px}.mat-mdc-snack-bar-container .mdc-snackbar__label{font-family:var(--mdc-snackbar-supporting-text-font, var(--mat-sys-body-medium-font));font-size:var(--mdc-snackbar-supporting-text-size, var(--mat-sys-body-medium-size));font-weight:var(--mdc-snackbar-supporting-text-weight, var(--mat-sys-body-medium-weight));line-height:var(--mdc-snackbar-supporting-text-line-height, var(--mat-sys-body-medium-line-height))}.mat-mdc-snack-bar-actions{display:flex;flex-shrink:0;align-items:center;box-sizing:border-box}.mat-mdc-snack-bar-handset,.mat-mdc-snack-bar-container,.mat-mdc-snack-bar-label{flex:1 1 auto}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled).mat-unthemed{color:var(--mat-snack-bar-button-color, var(--mat-sys-inverse-primary))}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled){--mat-text-button-state-layer-color:currentColor;--mat-text-button-ripple-color:currentColor}.mat-mdc-snack-bar-container .mat-mdc-button.mat-mdc-snack-bar-action:not(:disabled) .mat-ripple-element{opacity:.1}
`],encapsulation:2})}return n})();function Pi(){return new L}var Di=new Z("mat-snack-bar-default-options",{providedIn:"root",factory:Pi}),oi=(()=>{class n{_overlay=l(Mt);_live=l(de);_injector=l(A);_breakpointObserver=l(ce);_parentSnackBar=l(n,{optional:!0,skipSelf:!0});_defaultConfig=l(Di);_snackBarRefAtThisLevel=null;simpleSnackBarComponent=Ei;snackBarContainerComponent=Ri;handsetCssClass="mat-mdc-snack-bar-handset";get _openedSnackBarRef(){let e=this._parentSnackBar;return e?e._openedSnackBarRef:this._snackBarRefAtThisLevel}set _openedSnackBarRef(e){this._parentSnackBar?this._parentSnackBar._openedSnackBarRef=e:this._snackBarRefAtThisLevel=e}constructor(){}openFromComponent(e,i){return this._attach(e,i)}openFromTemplate(e,i){return this._attach(e,i)}open(e,i="",s){let o=b(b({},this._defaultConfig),s);return o.data={message:e,action:i},o.announcementMessage===e&&(o.announcementMessage=void 0),this.openFromComponent(this.simpleSnackBarComponent,o)}dismiss(){this._openedSnackBarRef&&this._openedSnackBarRef.dismiss()}ngOnDestroy(){this._snackBarRefAtThisLevel&&this._snackBarRefAtThisLevel.dismiss()}_attachSnackBarContainer(e,i){let s=i&&i.viewContainerRef&&i.viewContainerRef.injector,o=A.create({parent:s||this._injector,providers:[{provide:L,useValue:i}]}),r=new xt(this.snackBarContainerComponent,i.viewContainerRef,o),a=e.attach(r);return a.instance.snackBarConfig=i,a.instance}_attach(e,i){let s=b(b(b({},new L),this._defaultConfig),i),o=this._createOverlay(s),r=this._attachSnackBarContainer(o,s),a=new W(r,o);if(e instanceof ut){let c=new Ot(e,null,{$implicit:s.data,snackBarRef:a});a.instance=r.attachTemplatePortal(c)}else{let c=this._createInjector(s,a),d=new xt(e,void 0,c),h=r.attachComponentPortal(d);a.instance=h.instance}return this._breakpointObserver.observe(he.HandsetPortrait).pipe(z(o.detachments())).subscribe(c=>{o.overlayElement.classList.toggle(this.handsetCssClass,c.matches)}),s.announcementMessage&&r._onAnnounce.subscribe(()=>{this._live.announce(s.announcementMessage,s.politeness)}),this._animateSnackBar(a,s),this._openedSnackBarRef=a,this._openedSnackBarRef}_animateSnackBar(e,i){e.afterDismissed().subscribe(()=>{this._openedSnackBarRef==e&&(this._openedSnackBarRef=null),i.announcementMessage&&this._live.clear()}),i.duration&&i.duration>0&&e.afterOpened().subscribe(()=>e._dismissAfter(i.duration)),this._openedSnackBarRef?(this._openedSnackBarRef.afterDismissed().subscribe(()=>{e.containerInstance.enter()}),this._openedSnackBarRef.dismiss()):e.containerInstance.enter()}_createOverlay(e){let i=new F;i.direction=e.direction;let s=this._overlay.position().global(),o=e.direction==="rtl",r=e.horizontalPosition==="left"||e.horizontalPosition==="start"&&!o||e.horizontalPosition==="end"&&o,a=!r&&e.horizontalPosition!=="center";return r?s.left("0"):a?s.right("0"):s.centerHorizontally(),e.verticalPosition==="top"?s.top("0"):s.bottom("0"),i.positionStrategy=s,this._overlay.create(i)}_createInjector(e,i){let s=e&&e.viewContainerRef&&e.viewContainerRef.injector;return A.create({parent:s||this._injector,providers:[{provide:W,useValue:i},{provide:si,useValue:e.data}]})}static \u0275fac=function(i){return new(i||n)};static \u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();var Ft=(n,t)=>t.some(e=>n instanceof e),ri,ai;function Mi(){return ri||(ri=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Bi(){return ai||(ai=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var Lt=new WeakMap,It=new WeakMap,ct=new WeakMap;function Ai(n){let t=new Promise((e,i)=>{let s=()=>{n.removeEventListener("success",o),n.removeEventListener("error",r)},o=()=>{e(B(n.result)),s()},r=()=>{i(n.error),s()};n.addEventListener("success",o),n.addEventListener("error",r)});return ct.set(t,n),t}function Ii(n){if(Lt.has(n))return;let t=new Promise((e,i)=>{let s=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",r),n.removeEventListener("abort",r)},o=()=>{e(),s()},r=()=>{i(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",o),n.addEventListener("error",r),n.addEventListener("abort",r)});Lt.set(n,t)}var Nt={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Lt.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return B(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function di(n){Nt=n(Nt)}function Ti(n){return Bi().includes(n)?function(...t){return n.apply(Vt(this),t),B(this.request)}:function(...t){return B(n.apply(Vt(this),t))}}function Fi(n){return typeof n=="function"?Ti(n):(n instanceof IDBTransaction&&Ii(n),Ft(n,Mi())?new Proxy(n,Nt):n)}function B(n){if(n instanceof IDBRequest)return Ai(n);if(It.has(n))return It.get(n);let t=Fi(n);return t!==n&&(It.set(n,t),ct.set(t,n)),t}var Vt=n=>ct.get(n);function Xt(n,t,{blocked:e,upgrade:i,blocking:s,terminated:o}={}){let r=indexedDB.open(n,t),a=B(r);return i&&r.addEventListener("upgradeneeded",c=>{i(B(r.result),c.oldVersion,c.newVersion,B(r.transaction),c)}),e&&r.addEventListener("blocked",c=>e(c.oldVersion,c.newVersion,c)),a.then(c=>{o&&c.addEventListener("close",()=>o()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var Li=["get","getKey","getAll","getAllKeys","count"],Ni=["put","add","delete","clear"],Tt=new Map;function li(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Tt.get(t))return Tt.get(t);let e=t.replace(/FromIndex$/,""),i=t!==e,s=Ni.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(s||Li.includes(e)))return;let o=function(r,...a){return C(this,null,function*(){let c=this.transaction(r,s?"readwrite":"readonly"),d=c.store;return i&&(d=d.index(a.shift())),(yield Promise.all([d[e](...a),s&&c.done]))[0]})};return Tt.set(t,o),o}di(n=>N(b({},n),{get:(t,e,i)=>li(t,e)||n.get(t,e,i),has:(t,e)=>!!li(t,e)||n.has(t,e)}));var Vi=["continue","continuePrimaryKey","advance"],ci={},Yt=new WeakMap,pi=new WeakMap,Yi={get(n,t){if(!Vi.includes(t))return n[t];let e=ci[t];return e||(e=ci[t]=function(...i){Yt.set(this,pi.get(this)[t](...i))}),e}};function Xi(...n){return Ht(this,null,function*(){let t=this;if(t instanceof IDBCursor||(t=yield new ht(t.openCursor(...n))),!t)return;t=t;let e=new Proxy(t,Yi);for(pi.set(e,t),ct.set(e,Vt(t));t;)yield e,t=yield new ht(Yt.get(e)||t.continue()),Yt.delete(e)})}function hi(n,t){return t===Symbol.asyncIterator&&Ft(n,[IDBIndex,IDBObjectStore,IDBCursor])||t==="iterate"&&Ft(n,[IDBIndex,IDBObjectStore])}di(n=>N(b({},n),{get(t,e,i){return hi(t,e)?Xi:n.get(t,e,i)},has(t,e){return hi(t,e)||n.has(t,e)}}));var fi=(()=>{class n{openDB(e,i=1){return C(this,null,function*(){try{return yield Xt(e,i)}catch(s){return console.error("Error in opening database: ",s),null}})}createObjectStore(e,i,s=1){return C(this,null,function*(){try{return yield Xt(e,s,{upgrade(o){for(let r of i)o.objectStoreNames.contains(r)||o.createObjectStore(r,{autoIncrement:!0,keyPath:"id"})}})}catch(o){return console.error("Error in creating object store: ",o),null}})}fetch(e,i,s){return C(this,null,function*(){return yield e.transaction(i,"readonly").objectStore(i).get(s)})}insert(e,i,s){return C(this,null,function*(){return yield e.transaction(i,"readwrite").objectStore(i).add(s)})}static{this.\u0275fac=function(i){return new(i||n)}}static{this.\u0275prov=w({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function ji(n,t){if(n&1){let e=J();f(0,"div")(1,"mat-card")(2,"mat-card-header")(3,"mat-card-title"),u(4,"Registration Form"),p()(),f(5,"mat-card-content",10)(6,"form",11)(7,"div",12)(8,"mat-form-field",13)(9,"mat-label"),u(10,"Firstname"),p(),y(11,"input",14),p(),f(12,"mat-form-field",13)(13,"mat-label"),u(14,"Lastname"),p(),y(15,"input",15),p(),f(16,"mat-form-field",13)(17,"mat-label"),u(18,"Email"),p(),y(19,"input",16),p(),f(20,"mat-form-field",13)(21,"mat-label"),u(22,"Feedback"),p(),y(23,"textarea",17,1),p()(),f(25,"button",18),Y("click",function(){K(e);let s=D();return G(s.submit())}),u(26," Submit "),p()(),f(27,"div",19),y(28,"img",20),p()()(),f(29,"p",21),u(30),p()()}if(n&2){let e=D();x(6),_t("formGroup",e.registrationForm),x(24),X(" ",e.errorText," ")}}function Hi(n,t){if(n&1&&(f(0,"h2"),u(1),p()),n&2){let e=D();x(),ne(e.unsupportedText)}}function Wi(n,t){n&1&&(f(0,"div",22),y(1,"img",23),p(),y(2,"br")(3,"br"),f(4,"a",24),u(5,"Source: can I use"),p())}var Cs=(()=>{class n{constructor(e){this.titleService=e,this.isLoading=!1,this.http=l(Se),this.destroyRef=l(Gt),this.fb=l(ke),this.snackBar=l(oi),this.idb=l(fi),this.dbRef=null,this.FORM_DB_NAME="BackSyncDb",this.FORM_TABLE_NAME="FormData",this.registrationForm=this.fb.group({firstname:"",lastname:"",email:"",feedback:""}),this.titleService.setTitle("Background Sync"),!("serviceWorker"in navigator)&&!("SyncManager"in window)&&(this.unsupportedText="Your browser does not support the Background Sync API and/or Service Workers.")}submit(){return C(this,null,function*(){let e=this.registrationForm.value;this.http.post("http://localhost:3600/back-sync/form-data",e).pipe(xe(this.destroyRef)).subscribe({next:()=>{this.displayNotification("Form data has been delivered! \u2705")},error:i=>{i.status===504?(this.displayNotification("\u{1F525} You are OFFLINE \u{1F525} We will send the data once back online \u{1F4E1}"),this.storeFormDataInIDB(e).then(()=>this.registerForSync())):this.displayNotification("Upsie! Something went really wrong \u{1F622}")}})})}storeFormDataInIDB(e){return C(this,null,function*(){try{this.dbRef||(this.dbRef=yield this.idb.createObjectStore(this.FORM_DB_NAME,[this.FORM_TABLE_NAME])),yield this.idb.insert(this.dbRef,this.FORM_TABLE_NAME,e)}catch(i){console.error("Error while storing form data: ",i)}})}registerForSync(){navigator.serviceWorker.ready.then(e=>e.sync.register("syncFormData")).catch(e=>console.error("Error while registering the sync",e))}displayNotification(e){this.snackBar.open(e,"X",{horizontalPosition:"right",verticalPosition:"top"})}saveFormToIDb(){let e=window.indexedDB.open("FormData",1)}static{this.\u0275fac=function(i){return new(i||n)(qt(Ce))}}static{this.\u0275cmp=P({type:n,selectors:[["app-background-sync"]],decls:32,vars:2,consts:[["noSupported",""],["textbox",""],[1,"content"],[1,"descr-card"],[1,"flex-centered"],["src","assets/icons/lock.png","width","24","height","24","alt","lock icon",1,"icon-space"],[4,"ngIf","ngIfElse"],[1,"accordion-container"],["multi","",1,"example-headers-align"],["matExpansionPanelContent",""],[1,"card-content"],[3,"formGroup"],[1,"form-row"],["appearance","outline"],["matInput","","placeholder","Firstname","formControlName","firstname"],["matInput","","placeholder","Lastname","formControlName","lastname"],["matInput","","formControlName","email"],["matInput","","formControlName","feedback","rows","10"],["mat-raised-button","","color","primary",3,"click"],[1,"img-wrap"],["src","assets/images/email.jpg","alt","email"],[1,"error"],[1,"img-container"],["src","assets/images/background-sync.png","alt","Background sync api support"],["href","https://caniuse.com/background-sync","target","_blank"]],template:function(i,s){if(i&1&&(f(0,"section",2)(1,"h1"),u(2,"Background Sync API"),p(),f(3,"mat-card",3)(4,"p"),u(5,"The "),f(6,"strong"),u(7,"Background Synchronization API"),p(),u(8," web applications to defer network-related actions to a service worker for later execution. This enables functionality even when the user is offline. "),y(9,"br")(10,"br"),u(11," The API offers a way to register a task to be executed by the service worker when a network connection becomes available again. This feature is triggered by events within the service worker, allowing developers to implement functionalities that work seamlessly regardless of the user's network connectivity. "),y(12,"br")(13,"br")(14,"br"),f(15,"span",4),y(16,"img",5),f(17,"span"),u(18,"This feature is available only over secure connections (HTTPS) and requires an installed Service Worker. "),y(19,"br"),u(20,' When testing the demo locally, run the server from the "bun-server" folder. '),p()()()(),I(21,ji,31,2,"div",6)(22,Hi,2,1,"ng-template",null,0,se),f(24,"div",7)(25,"mat-accordion",8)(26,"mat-expansion-panel")(27,"mat-expansion-panel-header")(28,"mat-panel-title")(29,"h1"),u(30,"Browser compatibility"),p()()(),I(31,Wi,6,0,"ng-template",9),p()()()()),i&2){let o=ie(23);x(21),_t("ngIf",!s.unsupportedText)("ngIfElse",o)}},dependencies:[Ne,Ie,Fe,Le,Te,le,Ct,et,Xe,Ye,Ve,He,je,Ae,Be,Pe,De,Me,Re,we,ye,_e,me,ge,ve,be],styles:[".card-content[_ngcontent-%COMP%]{display:flex;gap:1rem;padding-top:2rem}.card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]{width:50%;flex:1}.card-content[_ngcontent-%COMP%]   form[_ngcontent-%COMP%]   mat-form-field[_ngcontent-%COMP%]{width:100%}.card-content[_ngcontent-%COMP%]   .img-wrap[_ngcontent-%COMP%]{width:50%}.card-content[_ngcontent-%COMP%]   .img-wrap[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%}"]})}}return n})();export{Cs as BackgroundSyncComponent};
