import{a as w,d as O}from"./chunk-LM2QGAUZ.js";import{d as A,e as $,f as j,g as U,h as F,i as z}from"./chunk-LAEGQYIL.js";import{a as B,b as D,c as H,d as L,e as R,f as N,g as W}from"./chunk-764RPA4D.js";import"./chunk-OFTKMGOF.js";import{$a as s,Eb as b,Fa as r,Ga as u,Oa as m,Ua as d,Wb as I,Xb as k,Za as n,_a as i,ab as f,bb as x,c as h,da as v,hb as S,jb as p,mb as M,nb as c,ob as C,pb as _,qc as y,rc as T,ub as E,za as P}from"./chunk-TX2EYQ2R.js";function Y(t,a){if(t&1&&(f(0),s(1,"img",16),x()),t&2){let e=a.ngIf;r(1),m("src",e,P)}}function q(t,a){t&1&&s(0,"img",7)}function G(t,a){if(t&1&&(n(0,"div"),d(1,Y,2,1,"ng-container",14)(2,q,1,0,"ng-template",null,15,b),i()),t&2){let e=M(3),l=p().$implicit,o=p();r(1),m("ngIf",o.getObjectUrl(l.icon))("ngIfElse",e)}}function J(t,a){if(t&1&&(n(0,"span"),s(1,"img",17),c(2),i()),t&2){let e=p().$implicit;r(2),_("",e.tel.join(", ")," ")}}function K(t,a){if(t&1&&(n(0,"span"),s(1,"img",18),c(2),i()),t&2){let e=p().$implicit;r(2),_("",e.email.join(", ")," ")}}function Q(t,a){if(t&1&&(n(0,"span"),s(1,"img",19),c(2),i()),t&2){let e=p().$implicit,l=p();r(2),_("",l.formatAddresses(e.address)," ")}}function V(t,a){if(t&1&&(n(0,"mat-card")(1,"mat-card-header"),d(2,G,4,2,"div",10),n(3,"mat-card-title"),c(4),i(),n(5,"mat-card-subtitle"),c(6,"\xA0"),i()(),n(7,"mat-card-content"),d(8,J,3,1,"span",10)(9,K,3,1,"span",10)(10,Q,3,1,"span",10),i()()),t&2){let e=a.$implicit;r(2),m("ngIf",e==null||e.icon==null?null:e.icon.length),r(2),C(e==null?null:e.name.join(", ")),r(4),m("ngIf",e==null||e.tel==null?null:e.tel.length),r(1),m("ngIf",e==null||e.email==null?null:e.email.length),r(1),m("ngIf",e==null||e.address==null?null:e.address.length)}}function X(t,a){if(t&1&&(f(0),n(1,"h2"),c(2),i(),x()),t&2){let e=p();r(2),C(e.statusText)}}function Z(t,a){t&1&&(n(0,"div",20),s(1,"img",21),i(),s(2,"br")(3,"br"),n(4,"a",22),c(5,"Source: can I use"),i())}var mt=(()=>{let a=class a{constructor(l,o){this.domSanitizer=l,this.titleService=o,this.supported=!0,this.contacts=[],this.titleService.setTitle("Contact Picker")}ngOnInit(){"contacts"in navigator&&"ContactsManager"in window||(this.supported=!1,this.statusText="Your browser does not support the Contact Picker API")}selectContacts(){return h(this,null,function*(){let l=["name","address","icon"],o={multiple:!0};try{this.contacts=yield navigator.contacts.select(l,o)}catch(g){this.statusText="An error occurred.",console.error(g)}})}getObjectUrl(l){try{return this.domSanitizer.bypassSecurityTrustUrl(URL.createObjectURL(l[0]))}catch(o){this.statusText="An error occurred.",console.error(o);return}}formatAddresses(l){let o=l[0];return`${o?.addressLine} ${o?.city} ${o?.postalCode} ${o?.country}`}};a.\u0275fac=function(o){return new(o||a)(u(T),u(y))},a.\u0275cmp=v({type:a,selectors:[["app-contact-picker"]],standalone:!0,features:[E],decls:35,vars:3,consts:[[1,"content"],[1,"flex-centered","warn-text"],[1,"descr-card"],[1,"flex-centered"],["src","assets/icons/warning.png","width","24","height","24","alt","warning icon",1,"icon-space"],["src","assets/icons/lock.png","width","24","height","24","alt","lock icon",1,"icon-space"],["mat-raised-button","","color","primary",3,"disabled","click"],["src","assets/icons/person.png","width","24","height","24","alt","person icon",1,"icon-space"],[1,"cards-container"],[4,"ngFor","ngForOf"],[4,"ngIf"],[1,"accordion-container"],["multi","",1,"example-headers-align"],["matExpansionPanelContent",""],[4,"ngIf","ngIfElse"],["defaultIcon",""],["mat-card-avatar","","alt","contact icon",3,"src"],["src","assets/icons/phone.png","width","24","height","24","alt","phone icon",1,"icon-space"],["src","assets/icons/email.png","width","24","height","24","alt","email icon",1,"icon-space"],["src","assets/icons/place.png","width","24","height","24","alt","place icon",1,"icon-space"],[1,"img-container"],["src","assets/images/contacts-picker.png","alt","Contact Picker api support"],["href","https://caniuse.com/mdn-api_contactsmanager","target","_blank"]],template:function(o,g){o&1&&(n(0,"section",0)(1,"div",1)(2,"h1"),c(3,"Contact Picker API"),i()(),n(4,"mat-card",2)(5,"p"),c(6,"The "),n(7,"strong"),c(8,"Contact Picker API"),i(),c(9," fills another gap between web and native apps, allowing to access the address book on a mobile device. With this API we can retrieve details like: contact name, contact profile image, email address, phone number, street address. "),s(10,"br")(11,"br"),n(12,"span",3),s(13,"img",4),n(14,"span"),c(15,"Still experimental"),i()(),s(16,"br"),n(17,"span",3),s(18,"img",5),n(19,"span"),c(20,"This feature is available only on secure contexts (HTTPS)."),i()()()(),n(21,"button",6),S("click",function(){return g.selectContacts()}),s(22,"img",7),c(23," Select contacts "),i(),n(24,"div",8),d(25,V,11,5,"mat-card",9),i(),d(26,X,3,1,"ng-container",10),n(27,"div",11)(28,"mat-accordion",12)(29,"mat-expansion-panel")(30,"mat-expansion-panel-header")(31,"mat-panel-title")(32,"h1"),c(33,"Browser compatibility"),i()()(),d(34,Z,6,0,"ng-template",13),i()()()()),o&2&&(r(21),m("disabled",!g.supported),r(4),m("ngForOf",g.contacts),r(1),m("ngIf",g.statusText))},dependencies:[W,B,N,H,R,L,D,O,w,I,k,z,F,$,j,U,A],styles:["section[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]{margin-top:1rem;display:flex;flex-wrap:wrap;gap:1.5rem}section[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]{border-top:1px solid #d0d0d0;padding-top:.5rem}section[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.5rem}section[_ngcontent-%COMP%]   .cards-container[_ngcontent-%COMP%]   .mat-card-content[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:last-child{margin-bottom:0}"]});let t=a;return t})();export{mt as ContactPickerComponent};
