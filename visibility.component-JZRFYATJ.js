import{g as f,h as g,i as E,j as w,k as x,l as V}from"./chunk-H6TYOFTS.js";import{a as C,g as P}from"./chunk-6TMERT2D.js";import{h as b}from"./chunk-7MWEYH2J.js";import{Jb as e,Kb as t,Lb as l,Rb as v,Wb as u,Xb as h,Yb as y,ac as i,cb as d,ib as m,ob as c,sb as p}from"./chunk-DSW3PZOY.js";var M=["videoElement"];function _(o,T){o&1&&(e(0,"div",10),l(1,"img",11),t(),l(2,"br")(3,"br"),e(4,"a",12),i(5,"Source: can I use"),t())}var D=(()=>{class o{onVisibilyChange(a){document.hidden?(this.nativeElement?.pause(),console.log("Video is paused.")):(this.nativeElement?.play(),console.log("Video is playing again."))}constructor(a){this.titleService=a,this.titleService.setTitle("Visibility")}ngAfterViewInit(){typeof document.hidden===void 0?alert("Your browser does not support Page Visibility API."):(this.nativeElement=this.videoElement?.nativeElement,this.nativeElement?.addEventListener("pause",()=>{document.title="Pause!"}),this.nativeElement?.addEventListener("play",()=>{document.title="Play!"}))}static{this.\u0275fac=function(n){return new(n||o)(m(b))}}static{this.\u0275cmp=c({type:o,selectors:[["app-visibility"]],viewQuery:function(n,s){if(n&1&&u(M,5),n&2){let r;h(r=y())&&(s.videoElement=r.first)}},hostBindings:function(n,s){n&1&&v("visibilitychange",function(S){return s.onVisibilyChange(S)},!1,d)},decls:29,vars:0,consts:[["videoElement",""],[1,"content"],[1,"descr-card"],["controls",""],["src","https://web.dev/static/articles/video-and-source-tags/video/web-dev-assets/video-and-source-tags/chrome.webm","type","video/webm"],["src","https://web.dev/static/articles/video-and-source-tags/video/web-dev-assets/video-and-source-tags/chrome.mp4","type","video/mp4"],["href","https://web.dev/video-and-source-tags/","target","_blank"],[1,"accordion-container"],["multi","",1,"example-headers-align"],["matExpansionPanelContent",""],[1,"img-container"],["src","assets/images/visibility.png","alt","Visibility api support"],["href","https://caniuse.com/pagevisibility","target","_blank"]],template:function(n,s){n&1&&(e(0,"section",1)(1,"h1"),i(2,"Page Visibility API"),t(),e(3,"mat-card",2)(4,"p"),i(5,"The "),e(6,"strong"),i(7,"Page Visibility API"),t(),i(8," provides events you can watch for to know when a document becomes visible or hidden, as well as features to look at the current visibility state of the page. "),t()(),e(9,"p"),i(10," The video plays only when the page is visible, it will automatically pause otherwise. "),t(),e(11,"video",3,0),l(13,"source",4)(14,"source",5),e(15,"p"),i(16,"Your browser cannot play the provided video file."),t()(),e(17,"cite"),i(18,"Video source "),e(19,"a",6),i(20," from web.dev"),t()(),e(21,"div",7)(22,"mat-accordion",8)(23,"mat-expansion-panel")(24,"mat-expansion-panel-header")(25,"mat-panel-title")(26,"h1"),i(27,"Browser compatibility"),t()()(),p(28,_,6,0,"ng-template",9),t()()()())},dependencies:[P,C,V,x,g,E,w,f],styles:["video[_ngcontent-%COMP%]{width:100%;max-width:900px}"]})}}return o})();export{D as VisibilityComponent};
