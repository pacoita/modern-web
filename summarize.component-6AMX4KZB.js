import{g as W,j as B,o as N,p as D,q as Q,w as H}from"./chunk-B7VOCU5S.js";import{c as j,e as q}from"./chunk-NAUQUYNC.js";import"./chunk-NME53Y3J.js";import{g as K,h as G,i as J,j as U,k as X,l as Y}from"./chunk-H6TYOFTS.js";import{a as Z,g as $}from"./chunk-6TMERT2D.js";import{h as R}from"./chunk-7MWEYH2J.js";import{$b as A,Ea as g,Eb as C,Gb as f,Gc as V,Hb as b,Ib as S,Jb as n,Kb as i,Lb as M,Pb as z,Rb as E,Sb as d,Wb as O,Xb as I,Yb as L,ac as o,bc as c,d as _,db as l,ec as y,fc as w,gc as v,ib as T,oa as p,ob as P,pa as u,sb as x,tc as k,uc as F,zb as h}from"./chunk-DSW3PZOY.js";var ee=["textbox"];function te(t,s){if(t&1&&(n(0,"option",13),o(1),i()),t&2){let e=s.$implicit;h("value",e.value),l(),c(e.label)}}function ie(t,s){if(t&1&&(n(0,"option",13),o(1),i()),t&2){let e=s.$implicit;h("value",e.value),l(),c(e.label)}}function ne(t,s){if(t&1&&(n(0,"option",13),o(1),i()),t&2){let e=s.$implicit;h("value",e.value),l(),c(e.label)}}function oe(t,s){if(t&1){let e=z();n(0,"div",9)(1,"div",10)(2,"label",11),o(3,"Output Type "),i(),n(4,"select",12),v("ngModelChange",function(r){p(e);let m=d(2);return w(m.selectedType,r)||(m.selectedType=r),u(r)}),b(5,te,2,2,"option",13,f),i()(),n(7,"div",10)(8,"label",11),o(9,"Format "),i(),n(10,"select",14),v("ngModelChange",function(r){p(e);let m=d(2);return w(m.selectedFormat,r)||(m.selectedFormat=r),u(r)}),b(11,ie,2,2,"option",13,f),i()(),n(13,"div",10)(14,"label",11),o(15,"Length "),i(),n(16,"select",15),v("ngModelChange",function(r){p(e);let m=d(2);return w(m.selectedLength,r)||(m.selectedLength=r),u(r)}),b(17,ne,2,2,"option",13,f),i()()(),n(19,"fieldset")(20,"legend"),o(21,"Active options"),i(),n(22,"div",16)(23,"label",17),o(24,"Length: "),i(),n(25,"span",18),o(26),i()(),n(27,"div",16)(28,"label",17),o(29,"Format: "),i(),n(30,"span",18),o(31),i()(),n(32,"div",16)(33,"label",17),o(34,"Output Type: "),i(),n(35,"span",18),o(36),i()()()}if(t&2){let e=d(2);l(4),y("ngModel",e.selectedType),l(),S(e.outputTypes),l(5),y("ngModel",e.selectedFormat),l(),S(e.outputFormats),l(5),y("ngModel",e.selectedLength),l(),S(e.outputLengths),l(9),c(e.selectedLength()),l(5),c(e.selectedFormat()),l(5),c(e.selectedType())}}function ae(t,s){t&1&&(n(0,"h3"),o(1,"Summarizing the text..."),i())}function re(t,s){if(t&1&&(n(0,"div",19)(1,"pre"),o(2),i()()),t&2){let e=d(3);l(2),c(e.summarizedText)}}function le(t,s){if(t&1&&(n(0,"span",20),o(1),i()),t&2){let e=d(3);l(),c(e.errorMessage)}}function me(t,s){if(t&1&&x(0,re,3,1,"div",19)(1,le,2,1,"span",20),t&2){let e=d(2);C(e.summarizedText&&!e.errorMessage?0:1)}}function se(t,s){if(t&1){let e=z();n(0,"div",3)(1,"mat-accordion",4)(2,"mat-expansion-panel")(3,"mat-expansion-panel-header")(4,"mat-panel-title")(5,"span",5),o(6,"Options"),i()()(),x(7,oe,37,6,"ng-template",6),i()()(),n(8,"div",1),M(9,"textarea",7,0),n(11,"button",8),E("click",function(){p(e);let r=A(10),m=d();return u(m.summarizeText(r.value))}),o(12," Summarize "),i()(),x(13,ae,2,0,"h3")(14,me,2,1)}if(t&2){let e=d();l(13),C(e.isSummarizing?13:14)}}function de(t,s){if(t&1&&(n(0,"span"),o(1),i()),t&2){let e=d();l(),c(e.unsupportedText)}}var Me=(()=>{class t{constructor(e){this.titleService=e,this.isSummarizing=!1,this.outputTypes=[{value:"key-points",label:"Key Points"},{value:"tldr",label:"TL;DR"},{value:"teaser",label:"Teaser"},{value:"headline",label:"Headline"}],this.outputFormats=[{value:"markdown",label:"Markdown"},{value:"plain-text",label:"Plain Text"}],this.outputLengths=[{value:"short",label:"Short"},{value:"medium",label:"Medium"},{value:"long",label:"Long"}],this.selectedFormat=g("plain-text"),this.selectedLength=g("long"),this.selectedType=g("tldr"),this.summarizeCreateOptions=k(()=>({format:this.selectedFormat(),type:this.selectedType(),length:this.selectedLength()})),this.titleService.setTitle("Summarizer"),F(()=>_(this,null,function*(){let a=this.summarizeCreateOptions();this.summarizer&&(this.summarizer=yield Summarizer.create(a),this.summarizeText(this.textbox?.nativeElement?.value||""))}))}ngOnInit(){return _(this,null,function*(){try{if("Summarizer"in self){let e=yield Summarizer.availability();if(e==="unavailable"){this.unsupportedText="The Summarizer API isn't usable. This could be for a number of reasons, such as insufficient disk space or unsupported browser.";return}e==="available"?this.summarizer=yield Summarizer.create(this.summarizeCreateOptions()):this.summarizer||(this.summarizer=yield Summarizer.create({monitor(a){a.addEventListener("downloadprogress",r=>{console.log(`Downloaded ${r.loaded*100}%`)})}}),yield this.summarizer?.ready)}else this.unsupportedText="The Summarizer API is not supported in your browser."}catch(e){this.unsupportedText="An error occurred while checking Summarizer API support in your browser.",console.error(e)}})}summarizeText(e){return _(this,null,function*(){if(!(!this.summarizer||!e))try{this.errorMessage=void 0,this.summarizedText=void 0,this.isSummarizing=!0,this.summarizedText=yield this.summarizer.summarize(e),this.isSummarizing=!1}catch(a){this.errorMessage=a instanceof Error?a.message:"An unknown error occurred while summarizing the text.",console.error(a),this.isSummarizing=!1}})}static{this.\u0275fac=function(a){return new(a||t)(T(R))}}static{this.\u0275cmp=P({type:t,selectors:[["app-summarize"]],viewQuery:function(a,r){if(a&1&&O(ee,5),a&2){let m;I(m=L())&&(r.textbox=m.first)}},decls:11,vars:1,consts:[["textbox",""],[1,"content"],[1,"descr-card"],[1,"accordion-options"],["multi",""],[1,"option-label"],["matExpansionPanelContent",""],["name","textbox","id","textbox","rows","15","placeholder","Enter the text you want to summarize and click the button below"],["color","primary","mat-raised-button","",3,"click"],[1,"options-container"],[1,"optionSelect"],["for","type"],["id","type","matNativeControl","","name","type",3,"ngModelChange","ngModel"],[3,"value"],["id","type","matNativeControl","","name","format",3,"ngModelChange","ngModel"],["id","type","matNativeControl","","name","length",3,"ngModelChange","ngModel"],[1,"selectedOption"],[1,"optionLabel"],[1,"optionValue"],[1,"result"],[1,"error-text"]],template:function(a,r){a&1&&(n(0,"section",1)(1,"h1"),o(2,"Summarizer API"),i(),n(3,"mat-card",2)(4,"p"),o(5,"This API is part of Chrome built-in AI APIs. With them, a web application can perform AI-powered tasks, without needing to deploy, manage, or self-host AI models. The Summarizer API transforms lengthy text into condensed versions or reformats content according to specified parameters like length, structure, and style. This API enables developers to create summaries for news articles, reviews, blog posts, and other content. "),M(6,"br")(7,"br"),o(8," The Summarizer API is available from Chrome 138 stable. "),i()(),x(9,se,15,1)(10,de,2,1,"span"),i()),a&2&&(l(9),C(r.unsupportedText?10:9))},dependencies:[V,$,Z,q,j,Y,X,G,J,U,K,H,D,Q,N,W,B],styles:["#textbox[_ngcontent-%COMP%]{width:100%;border:1px solid #c5c5c5;border-radius:5px;padding:.5rem;box-shadow:0 2px 4px #0000001a;box-sizing:border-box;margin-bottom:1rem}.accordion-options[_ngcontent-%COMP%]{max-width:400px;margin-bottom:1rem}.accordion-options[_ngcontent-%COMP%]   .option-label[_ngcontent-%COMP%]{font-size:1.125rem}.accordion-options[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]{width:40%;display:flex;gap:1rem;margin-bottom:1rem}.accordion-options[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}@media screen and (max-width: 468px){.accordion-options[_ngcontent-%COMP%]   .options-container[_ngcontent-%COMP%]{flex-direction:column;width:100%;max-width:none}}.accordion-options[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{border:1px solid #c5c5c5;border-radius:5px;box-sizing:border-box;max-width:270px}@media screen and (max-width: 468px){.accordion-options[_ngcontent-%COMP%]   fieldset[_ngcontent-%COMP%]{width:100%;max-width:none}}.optionSelect[_ngcontent-%COMP%]{margin-bottom:.5rem}.optionSelect[_ngcontent-%COMP%]:last-child{margin-bottom:0}.optionLabel[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem}.result[_ngcontent-%COMP%]{margin-top:1rem;padding:1rem;border-radius:5px;border:1px solid #c5c5c5;box-shadow:0 2px 4px #0000001a}.result[_ngcontent-%COMP%]   pre[_ngcontent-%COMP%]{text-wrap:auto}.content[_ngcontent-%COMP%]{margin-bottom:1.5rem}.error-text[_ngcontent-%COMP%]{color:red;font-weight:600;margin-top:1rem}"]})}}return t})();export{Me as SummarizeComponent};
